var c=new Set,m=[],y=!1;function g(){y=!1,m.length=0;for(let e of c)m.push(e);c.clear();for(let e of m)e()}function a(e){c.add(e),y||(y=!0,typeof globalThis.queueMicrotask<"u"?globalThis.queueMicrotask(g):typeof Promise<"u"?Promise.resolve().then(g):setTimeout(g,0))}function E(e){c.delete(e)}var u=null;function h(e){u=e}function b(){return u}function v(e){let n=e,t=new Set,i=()=>(u&&(t.add(u),u._subscriptionSets&&u._subscriptionSets.push(t)),n),l=o=>{let r=typeof o=="function"?o(n):o;Object.is(n,r)||(n=r,t.forEach(s=>a(s)))};return[f(i),l]}var M=Symbol.for("view.signalGetter");function f(e){return e[M]=!0,e}var T=null;function H(e){a(e)}function V(e){let n=e._cleanups;if(n){for(let t of n)t();n.length=0}}function d(e){let n=!1,t=()=>{if(n)return;V(t);let o=t._subscriptionSets;if(o){for(let s of o)s.delete(t);o.length=0}t._cleanups=[];let r=b();t._subscriptionSets=[],h(t);try{let s=e();typeof s=="function"&&t._cleanups.push(s)}finally{h(r)}},i=()=>{n||(V(t),H(t))};t._subscriptionSets=[],t._cleanups=[],t();let l=()=>{if(n)return;n=!0;let o=t,r=o._subscriptionSets;if(r){for(let s of r)s.delete(t);r.length=0}V(o),E(i)};return T&&T.addDisposer(l),l}var k=Symbol.for("view.fragment");var L=k;function J(e,n){let t=e??{},i=n??t.key??null,{key:l,...o}=t;return{props:o,key:i??void 0}}function _(e,n,t){let{props:i,key:l}=J(n,t);return{type:e,props:i,key:l,children:i.children}}function C(e){return typeof e=="function"?e():e}function D(e){return e===Q}function F(e){let n=e.fallback;if(typeof n=="function")return n;let t=n!=null&&typeof n=="object"&&"type"in n?n:{type:"#text",props:{nodeValue:String(n)},children:[]};return()=>t}function Q(e){return e.children??null}function ct(e){let[n,t]=v(null),i=0;return d(()=>{let o=++i,r=C(e.children);return r!=null&&typeof r.then=="function"?r.then(s=>{o===i&&t(s??null)}):t(r??null),()=>{i=-1}}),_(L,{children:f(()=>n()??C(e.fallback))})}export{Q as ErrorBoundary,ct as Suspense,F as getErrorBoundaryFallback,D as isErrorBoundary};
//# sourceMappingURL=boundary.js.map
